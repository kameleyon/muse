import{e as K,a as O,u as Q,r as W,j as e,m as I,F as S,B as o,f as c,h as m,I as w,l as L,n as X,S as h,s as Y,k as u}from"./index-CdWqRpiB.js";import{u as M,s as A,z as r}from"./zod-05LE6Re6.js";import{C as x,a as p,b as g,c as b,d as N}from"./Card-VhfD6DpJ.js";const ee=r.object({fullName:r.string().min(2,"Full name must be at least 2 characters"),email:r.string().email("Please enter a valid email address").optional(),bio:r.string().max(200,"Bio must be less than 200 characters").optional()}),se=r.object({currentPassword:r.string().min(1,"Current password is required"),newPassword:r.string().min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:r.string().min(8,"Please confirm your password")}).refine(i=>i.newPassword===i.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),re=r.object({emailNotifications:r.boolean().default(!0),productUpdates:r.boolean().default(!0),securityAlerts:r.boolean().default(!0),marketingEmails:r.boolean().default(!1)}),oe=()=>{var F,z,B,T,U,E;const i=K(),{user:s}=O(l=>l.auth),{theme:V,toggleTheme:H}=Q(),[n,j]=W.useState("profile"),[t,d]=W.useState(!1),{register:k,handleSubmit:q,formState:{errors:v}}=M({resolver:A(ee),defaultValues:{fullName:(s==null?void 0:s.fullName)||"",email:(s==null?void 0:s.email)||"",bio:"AI enthusiast and content creator"}}),{register:P,handleSubmit:$,formState:{errors:C},reset:R}=M({resolver:A(se)}),{register:te,handleSubmit:D,formState:{errors:ae},setValue:G,watch:f}=M({resolver:A(re),defaultValues:{emailNotifications:!0,productUpdates:!0,securityAlerts:!0,marketingEmails:!1}}),y=l=>{G(l,!f(l))},J=async l=>{try{d(!0),await new Promise(a=>setTimeout(a,1e3)),s&&i(Y({...s,fullName:l.fullName})),i(u({type:"success",message:"Profile updated successfully"}))}catch(a){i(u({type:"error",message:a.message||"Failed to update profile"}))}finally{d(!1)}},_=async l=>{try{d(!0),await new Promise(a=>setTimeout(a,1e3)),i(u({type:"success",message:"Password updated successfully"})),R()}catch(a){i(u({type:"error",message:a.message||"Failed to update password"}))}finally{d(!1)}},Z=async l=>{try{d(!0),await new Promise(a=>setTimeout(a,1e3)),i(u({type:"success",message:"Notification preferences updated"}))}catch(a){i(u({type:"error",message:a.message||"Failed to update notification preferences"}))}finally{d(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold font-heading mb-2",children:"Profile Settings"}),e.jsx("p",{className:"text-neutral-medium max-w-3xl",children:"Manage your account settings and preferences."})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"w-full md:w-64",children:e.jsx(x,{children:e.jsx(p,{className:"p-4",children:e.jsxs("nav",{className:"flex flex-col space-y-1",children:[e.jsxs("button",{className:`flex items-center px-3 py-2 rounded-md text-sm font-medium ${n==="profile"?"bg-primary text-secondary":"text-secondary dark:text-neutral-light hover:bg-neutral-light/20 dark:hover:bg-neutral-dark/50"}`,onClick:()=>j("profile"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile Information"]}),e.jsxs("button",{className:`flex items-center px-3 py-2 rounded-md text-sm font-medium ${n==="password"?"bg-primary text-secondary":"text-secondary dark:text-neutral-light hover:bg-neutral-light/20 dark:hover:bg-neutral-dark/50"}`,onClick:()=>j("password"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Security"]}),e.jsxs("button",{className:`flex items-center px-3 py-2 rounded-md text-sm font-medium ${n==="notifications"?"bg-primary text-secondary":"text-secondary dark:text-neutral-light hover:bg-neutral-light/20 dark:hover:bg-neutral-dark/50"}`,onClick:()=>j("notifications"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Notifications"]}),e.jsxs("button",{className:`flex items-center px-3 py-2 rounded-md text-sm font-medium ${n==="appearance"?"bg-primary text-secondary":"text-secondary dark:text-neutral-light hover:bg-neutral-light/20 dark:hover:bg-neutral-dark/50"}`,onClick:()=>j("appearance"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.172 2.172a2 2 0 010 2.828l-8.486 8.486a4 4 0 01-5.656 0 2 2 0 010-2.828l8.486-8.486z"})}),"Appearance"]}),e.jsxs("button",{className:`flex items-center px-3 py-2 rounded-md text-sm font-medium ${n==="subscription"?"bg-primary text-secondary":"text-secondary dark:text-neutral-light hover:bg-neutral-light/20 dark:hover:bg-neutral-dark/50"}`,onClick:()=>j("subscription"),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Subscription"]})]})})})}),e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex-1",children:[n==="profile"&&e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsx(b,{children:"Profile Information"}),e.jsx(N,{children:"Update your personal information"})]}),e.jsx(p,{children:e.jsxs(S,{onSubmit:q(J),children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("div",{className:"relative mr-4",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-primary flex items-center justify-center overflow-hidden",children:s!=null&&s.avatar_url?e.jsx("img",{src:s.avatar_url,alt:s.fullName||s.email,className:"h-full w-full object-cover"}):e.jsx("span",{className:"text-2xl font-medium text-secondary",children:s!=null&&s.fullName?s.fullName.substring(0,1):s==null?void 0:s.email.substring(0,1).toUpperCase()})}),e.jsx("button",{type:"button",className:"absolute bottom-0 right-0 bg-secondary dark:bg-neutral-dark text-white p-1 rounded-full shadow-md",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Profile Picture"}),e.jsx("p",{className:"text-sm text-neutral-medium",children:"JPG, GIF or PNG. Max size 2MB."}),e.jsx(o,{type:"button",variant:"outline",size:"sm",className:"mt-2",children:"Upload New Image"})]})]}),e.jsxs(c,{children:[e.jsx(m,{htmlFor:"fullName",required:!0,children:"Full Name"}),e.jsx(w,{id:"fullName",type:"text",placeholder:"John Doe",...k("fullName"),error:(F=v.fullName)==null?void 0:F.message,disabled:t})]}),e.jsxs(c,{children:[e.jsx(m,{htmlFor:"email",required:!0,children:"Email Address"}),e.jsx(w,{id:"email",type:"email",placeholder:"example@email.com",...k("email"),error:(z=v.email)==null?void 0:z.message,disabled:!0,rightIcon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-success",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx(L,{children:"Email address cannot be changed"})]}),e.jsxs(c,{children:[e.jsx(m,{htmlFor:"bio",children:"Bio"}),e.jsx("textarea",{id:"bio",className:"w-full px-3 py-2 rounded-md border border-neutral-light dark:border-neutral-dark bg-white dark:bg-neutral-dark text-secondary dark:text-neutral-white focus:outline-none focus:ring-2 focus:ring-accent-teal transition-all duration-200 h-24 resize-y",placeholder:"Tell us about yourself...",...k("bio"),disabled:t}),((B=v.bio)==null?void 0:B.message)&&e.jsx(X,{children:v.bio.message}),e.jsx(L,{children:"Brief description for your profile. Maximum 200 characters."})]}),e.jsx(o,{type:"submit",isLoading:t,disabled:t,className:"mt-6",children:"Save Changes"})]})})]}),n==="password"&&e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsx(b,{children:"Security"}),e.jsx(N,{children:"Update your password and security settings"})]}),e.jsxs(p,{children:[e.jsxs(S,{onSubmit:$(_),children:[e.jsxs(c,{children:[e.jsx(m,{htmlFor:"currentPassword",required:!0,children:"Current Password"}),e.jsx(w,{id:"currentPassword",type:"password",placeholder:"••••••••",...P("currentPassword"),error:(T=C.currentPassword)==null?void 0:T.message,disabled:t})]}),e.jsxs(c,{children:[e.jsx(m,{htmlFor:"newPassword",required:!0,children:"New Password"}),e.jsx(w,{id:"newPassword",type:"password",placeholder:"••••••••",...P("newPassword"),error:(U=C.newPassword)==null?void 0:U.message,disabled:t}),e.jsx(L,{children:"Password must be at least 8 characters and include uppercase, lowercase, and numbers."})]}),e.jsxs(c,{children:[e.jsx(m,{htmlFor:"confirmPassword",required:!0,children:"Confirm New Password"}),e.jsx(w,{id:"confirmPassword",type:"password",placeholder:"••••••••",...P("confirmPassword"),error:(E=C.confirmPassword)==null?void 0:E.message,disabled:t})]}),e.jsx(o,{type:"submit",isLoading:t,disabled:t,className:"mt-6",children:"Update Password"})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-neutral-light dark:border-neutral-dark",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Two-Factor Authentication"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-neutral-medium",children:"Add an extra layer of security to your account"})]}),e.jsx(h,{id:"2fa"})]})})]})]})]}),n==="notifications"&&e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsx(b,{children:"Notification Preferences"}),e.jsx(N,{children:"Manage how we contact you"})]}),e.jsx(p,{children:e.jsxs(S,{onSubmit:D(Z),children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-neutral-medium",children:"Receive email notifications"})]}),e.jsx(h,{id:"emailNotifications",checked:f("emailNotifications"),onCheckedChange:()=>y("emailNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Product Updates"}),e.jsx("p",{className:"text-sm text-neutral-medium",children:"Receive updates about new features and improvements"})]}),e.jsx(h,{id:"productUpdates",checked:f("productUpdates"),onCheckedChange:()=>y("productUpdates")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Security Alerts"}),e.jsx("p",{className:"text-sm text-neutral-medium",children:"Receive alerts about security incidents and unusual activity"})]}),e.jsx(h,{id:"securityAlerts",checked:f("securityAlerts"),onCheckedChange:()=>y("securityAlerts")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Marketing Emails"}),e.jsx("p",{className:"text-sm text-neutral-medium",children:"Receive marketing emails and promotional offers"})]}),e.jsx(h,{id:"marketingEmails",checked:f("marketingEmails"),onCheckedChange:()=>y("marketingEmails")})]})]}),e.jsx(o,{type:"submit",isLoading:t,disabled:t,className:"mt-6",children:"Save Preferences"})]})})]}),n==="appearance"&&e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsx(b,{children:"Appearance"}),e.jsx(N,{children:"Customize how MagicMuse looks for you"})]}),e.jsx(p,{children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Theme"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Dark Mode"}),e.jsx("p",{className:"text-sm text-neutral-medium",children:"Toggle between light and dark mode"})]}),e.jsx(h,{checked:V==="dark",onCheckedChange:H})]})]})})})]}),n==="subscription"&&e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsx(b,{children:"Subscription"}),e.jsx(N,{children:"Manage your subscription plan and billing"})]}),e.jsxs(p,{children:[e.jsxs("div",{className:"bg-neutral-light/20 dark:bg-neutral-dark/50 p-4 rounded-md mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium",children:"Current Plan"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-success/20 text-success",children:"Active"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold",children:"Premium"}),e.jsx("p",{className:"text-sm text-neutral-medium",children:"$19.99/month, billed monthly"})]}),e.jsx(o,{variant:"outline",size:"sm",children:"Change Plan"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Plan Features"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-success",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Unlimited content generation"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-success",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Access to all AI models"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-success",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Priority support"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-success",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Advanced export options"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Billing Information"}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm",children:"Next billing date"}),e.jsx("span",{className:"text-sm font-medium",children:"April 21, 2025"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-sm",children:"Payment method"}),e.jsx("span",{className:"text-sm font-medium",children:"Visa ending in 4242"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(o,{variant:"outline",size:"sm",children:"Update Payment Method"}),e.jsx(o,{variant:"outline",size:"sm",children:"Billing History"})]})]}),e.jsx("div",{className:"pt-4 border-t border-neutral-light dark:border-neutral-dark",children:e.jsx(o,{variant:"danger",children:"Cancel Subscription"})})]})]})]})]})]})};export{oe as default};
//# sourceMappingURL=Profile-BGUgUusy.js.map
